(()=>{"use strict";var n={426:(n,e,t)=>{t.d(e,{Z:()=>r});var o=t(645),i=t.n(o)()((function(n){return n[1]}));i.push([n.id,"* {\n  margin: 0;\n  padding: 0;\n  box-sizing: border-box;\n  list-style-type: none;\n  text-decoration: none;\n}\n\nbody {\n  margin: 0;\n  padding: 0;\n  background-color: #eee;\n}\n\n.logo {\n  background-color: crimson;\n  width: 50px;\n  height: 50px;\n  border-radius: 50px;\n}\n\n.fa-video {\n  display: block;\n  margin: 17px 19px;\n  color: #fff;\n}\n\nul.nav-bar {\n  width: 100%;\n  padding: 0;\n  display: flex;\n  align-items: center;\n  gap: 40px;\n  justify-content: center;\n}\n\nnav {\n  background-color: #fff;\n  padding: 10px 0;\n  -webkit-box-shadow: 0 3px 12px -2px rgba(122, 118, 122, 1);\n  -moz-box-shadow: 0 3px 12px -2px rgba(122, 118, 122, 1);\n  box-shadow: 0 3px 12px -2px rgba(122, 118, 122, 1);\n}\n\n.items {\n  display: flex;\n  align-items: center;\n  gap: 5px;\n  color: grey;\n  font-weight: bold;\n  font-size: 20px;\n}\n\n.container {\n  width: 70%;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n  gap: 15px;\n  margin: 20px auto;\n  padding: 10px;\n}\n\n.show-container {\n  width: 30%;\n  height: 490px;\n  padding: 15px 5px 0 5px;\n  border-radius: 10px;\n  transition: transform 100ms ease;\n  background-color: #fff;\n  -webkit-box-shadow: 0 3px 12px -2px rgba(122, 118, 122, 1);\n  -moz-box-shadow: 0 3px 12px -2px rgba(122, 118, 122, 1);\n  box-shadow: 0 3px 12px -2px rgba(122, 118, 122, 1);\n}\n\n.show-container:hover {\n  transform: scale(1.05);\n}\n\n.data-ul {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  list-style-type: none;\n  padding: 0;\n  flex-direction: column;\n  gap: 0;\n}\n\n.img {\n  width: 100%;\n  height: 60%;\n}\n\n.img > img {\n  display: block;\n  max-width: 100%;\n  margin: auto;\n}\n\n.like-title {\n  width: 100%;\n  height: 20%;\n  display: flex;\n  justify-content: space-evenly;\n  align-items: center;\n  border-bottom: 1px solid rgb(206, 200, 200);\n}\n\n.like-title > p {\n  font-size: 20px;\n}\n\n.like-section {\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n}\n\nbutton {\n  cursor: pointer;\n}\n\n.like-section > button {\n  border: none;\n  background-color: #fff;\n}\n\n.like-section > button:active {\n  transform: scale(0.9);\n}\n\n.fa-heart {\n  font-size: 20px;\n  color: crimson;\n}\n\n.comment-cont {\n  width: 100%;\n  height: 20%;\n  display: flex;\n  align-items: center;\n}\n\n.comment-btn {\n  display: block;\n  margin: 8px auto;\n  color: grey;\n  padding: 10px 15px;\n  border-radius: 30px;\n  border: none;\n  background-color: rgb(221, 213, 213);\n  transition: all 300ms ease;\n}\n\n.comment-btn:hover {\n  transform: scale(1.1);\n}\n\n.comment-btn:active {\n  transform: scale(0.9);\n}\n\np.like-text {\n  margin: 0;\n  font-weight: bolder;\n}\n\n#popup {\n  width: 100%;\n  height: 100vh;\n  background-color: rgba(0, 0, 0, 0.418);\n  position: fixed;\n  top: 0;\n}\n\n.item-popup {\n  position: fixed;\n  width: 50%;\n  height: 93vh;\n  top: 3vh;\n  left: 25%;\n  background-color: #fff;\n  overflow-y: auto;\n  box-shadow: 0 6px 20px 0 rgba(0, 0, 0, 0.19);\n}\n\n.popup-wrapper {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding: 20px 20px;\n}\n\n.popup-header {\n  display: flex;\n}\n\n.popup-img {\n  width: 100%;\n  height: 25vh;\n}\n\n.close-icon {\n  cursor: pointer;\n  position: fixed;\n  right: 27%;\n  font-size: 20px;\n  font-weight: bold;\n}\n\n.popup-details {\n  text-align: center;\n  margin-top: 1vh;\n  width: 60%;\n}\n\n.popup-specs {\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-between;\n  margin-bottom: 1vh;\n}\n\n.popup-info {\n  margin-top: 1vh;\n}\n\n.comments-container {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-wrap: wrap;\n}\n\n.comment-count {\n  margin-left: 5px;\n}\n\n.popup-comments {\n  display: flex;\n  flex-direction: column;\n  margin-bottom: 1vh;\n  overflow-y: auto;\n  height: 20vh;\n}\n\n.comment {\n  margin-bottom: 1vh;\n  align-self: flex-start;\n}\n\n.add-comment {\n  display: flex;\n  flex-direction: column;\n  margin-top: 1vh;\n}\n\n#name {\n  margin-bottom: 1vh;\n  width: 60%;\n  padding: 5px;\n  border: 2px solid #eee;\n}\n\n#input-comment {\n  margin-bottom: 1vh;\n  height: 10vh;\n  padding: 5px;\n  border: 1px solid #eee;\n}\n\n#submit-comment {\n  padding: 4px 4px;\n  align-self: flex-start;\n  background-color: coral;\n  color: #fff;\n  border: 2px solid #fff;\n}\n\nfooter {\n  background-color: crimson;\n  color: #fff;\n  text-align: center;\n  font-size: 20px;\n  font-weight: bolder;\n  height: 100px;\n  padding: 40px 0 30px 0;\n}\n\n@media (max-width: 900px) {\n  .show-container {\n    width: 40%;\n  }\n}\n\n@media (max-width: 700px) {\n  ul.nav-bar {\n    width: 100%;\n    margin: 0;\n  }\n\n  .show-container {\n    width: 100%;\n    height: 500px;\n  }\n\n  .container {\n    height: auto;\n  }\n\n  .like-text > p {\n    margin: 0 0 0 200px;\n  }\n}\n",""]);const r=i},645:n=>{n.exports=function(n){var e=[];return e.toString=function(){return this.map((function(e){var t=n(e);return e[2]?"@media ".concat(e[2]," {").concat(t,"}"):t})).join("")},e.i=function(n,t,o){"string"==typeof n&&(n=[[null,n,""]]);var i={};if(o)for(var r=0;r<this.length;r++){var a=this[r][0];null!=a&&(i[a]=!0)}for(var s=0;s<n.length;s++){var p=[].concat(n[s]);o&&i[p[0]]||(t&&(p[2]?p[2]="".concat(t," and ").concat(p[2]):p[2]=t),e.push(p))}},e}},379:n=>{var e=[];function t(n){for(var t=-1,o=0;o<e.length;o++)if(e[o].identifier===n){t=o;break}return t}function o(n,o){for(var r={},a=[],s=0;s<n.length;s++){var p=n[s],c=o.base?p[0]+o.base:p[0],d=r[c]||0,l="".concat(c," ").concat(d);r[c]=d+1;var m=t(l),u={css:p[1],media:p[2],sourceMap:p[3]};-1!==m?(e[m].references++,e[m].updater(u)):e.push({identifier:l,updater:i(u,o),references:1}),a.push(l)}return a}function i(n,e){var t=e.domAPI(e);return t.update(n),function(e){if(e){if(e.css===n.css&&e.media===n.media&&e.sourceMap===n.sourceMap)return;t.update(n=e)}else t.remove()}}n.exports=function(n,i){var r=o(n=n||[],i=i||{});return function(n){n=n||[];for(var a=0;a<r.length;a++){var s=t(r[a]);e[s].references--}for(var p=o(n,i),c=0;c<r.length;c++){var d=t(r[c]);0===e[d].references&&(e[d].updater(),e.splice(d,1))}r=p}}},569:n=>{var e={};n.exports=function(n,t){var o=function(n){if(void 0===e[n]){var t=document.querySelector(n);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(n){t=null}e[n]=t}return e[n]}(n);if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(t)}},216:n=>{n.exports=function(n){var e=document.createElement("style");return n.setAttributes(e,n.attributes),n.insert(e),e}},565:(n,e,t)=>{n.exports=function(n){var e=t.nc;e&&n.setAttribute("nonce",e)}},795:n=>{n.exports=function(n){var e=n.insertStyleElement(n);return{update:function(t){!function(n,e,t){var o=t.css,i=t.media,r=t.sourceMap;i?n.setAttribute("media",i):n.removeAttribute("media"),r&&"undefined"!=typeof btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),e.styleTagTransform(o,n)}(e,n,t)},remove:function(){!function(n){if(null===n.parentNode)return!1;n.parentNode.removeChild(n)}(e)}}}},589:n=>{n.exports=function(n,e){if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}}},e={};function t(o){var i=e[o];if(void 0!==i)return i.exports;var r=e[o]={id:o,exports:{}};return n[o](r,r.exports,t),r.exports}t.n=n=>{var e=n&&n.__esModule?()=>n.default:()=>n;return t.d(e,{a:e}),e},t.d=(n,e)=>{for(var o in e)t.o(e,o)&&!t.o(n,o)&&Object.defineProperty(n,o,{enumerable:!0,get:e[o]})},t.o=(n,e)=>Object.prototype.hasOwnProperty.call(n,e),(()=>{var n=t(379),e=t.n(n),o=t(795),i=t.n(o),r=t(569),a=t.n(r),s=t(565),p=t.n(s),c=t(216),d=t.n(c),l=t(589),m=t.n(l),u=t(426),h={};h.styleTagTransform=m(),h.setAttributes=p(),h.insert=a().bind(null,"head"),h.domAPI=i(),h.insertStyleElement=d(),e()(u.Z,h),u.Z&&u.Z.locals&&u.Z.locals;const f=n=>{const e=document.querySelector(".popup-comments"),t=document.querySelector(".comment-count");t.innerHTML="",t.innerHTML=n.length,e.innerHTML="",n.forEach((n=>{const t=document.createElement("p");t.classList.add("comment"),t.innerHTML=`${n.creation_date} ${n.username}: ${n.comment}`,e.appendChild(t)}))},v=[{id:0,idTv:1,idInv:"item_1"},{id:1,idTv:2,idInv:"item_2"},{id:2,idTv:3,idInv:"item_3"},{id:3,idTv:4,idInv:"item_4"},{id:4,idTv:5,idInv:"item_5"},{id:5,idTv:6,idInv:"item_6"}],g={init:()=>{g.showItemsCounter(v),g.getShows(v),g.getLikes()},showItemsCounter:n=>(document.querySelector("#shows-counter").innerHTML=n.length,n.length),getShows:n=>{Array.from(n).forEach((n=>{fetch(`https://api.tvmaze.com/shows/${n.idTv}`).then((n=>n.json())).then((e=>((n,e)=>{const t=document.querySelector(".container"),o=`<div id=${n.id} class="show-container">\n                      <ul class="data-ul">\n                        <li class="img"><img src="${n.image.medium}"></li>\n                        <li class="like-title">\n                          <p>Title: ${n.name}</p>\n                          <div class="like-section">\n                            <button><i id="${e}" class="fas fa-heart"></i></button>\n                            <p class="like-text ${e}"> likes 0</p>\n                          </div>                          \n                        </li> \n                        <li class="comment-cont">\n                          <input id="get-id" type="hidden" value="${e}">\n                          <button class="comment-btn">Comment</button></li>\n                      </ul>\n                    </div>`;t.innerHTML+=o})(e,n.idInv)))}))},saveLike:n=>{fetch("https://us-central1-involvement-api.cloudfunctions.net/capstoneApi/apps/CTh1EvksCU2CGkEmnLer/likes/",{method:"POST",body:JSON.stringify({item_id:n}),headers:{"Content-type":"application/json; charset=UTF-8"}}).then((n=>g.refreshLikeOnClick(n.status)))},getLikes:()=>{fetch("https://us-central1-involvement-api.cloudfunctions.net/capstoneApi/apps/CTh1EvksCU2CGkEmnLer/likes/",{headers:{"Content-type":"application/json; charset=UTF-8"}}).then((n=>n.json())).then((n=>g.showLikes(n)))},showLikes:n=>{const e=Array.from(n),t=document.querySelectorAll(".like-text");e.forEach((n=>{t.forEach((e=>{e.className.includes(n.item_id)&&(e.innerHTML="",e.innerHTML=`Likes ${n.likes}`)}))}))},refreshLikeOnClick:n=>{201===n&&g.getLikes()},getShowPopup:(n,e,t)=>{fetch(`https://api.tvmaze.com/singlesearch/shows?q=${n}`).then((n=>n.json())).then((n=>{((n,e,t)=>{const o=document.createElement("section");o.id="popup",o.innerHTML=`<article class="item-popup">\n    <div class="popup-wrapper">\n        <div class="popup-header">\n            <div class="img-holder">\n              <img class="popup-img" src="${n.image.original}">\n            </div>\n            <div class="close-icon">X</div>\n        </div>\n        <div class="popup-details">\n            <div class="popup-title">\n              <h2>${n.name}</h2>\n            </div>\n            <div class="popup-info">\n                <div class="popup-specs">\n                  <p>Premiered: ${n.premiered}</p>\n                  <p>Rating: ${n.rating.average}</p>\n                </div>\n                <div class="popup-specs">\n                  <p>Genres: ${n.genres}</p>\n                  <p>Language: ${n.language}</p>\n                </div>\n            </div>\n        </div>\n        <div class="popup-details">\n            <div class="comments-container">\n              <h3>Comments</h3>\n              <p class="comment-count"></p>\n            </div>\n            <div class="popup-info">\n                <div class="popup-comments">\n                </div>\n            </div>\n        </div>\n        <div class="popup-details">\n            <div class="comments-container">\n              <h3>Add a comment</h3>\n            </div>\n            <form class="add-comment">\n              <input id="name" type="text" placeholder="Your name" name="name">\n              <textarea id="input-comment" type="text" name="comments" placeholder="Your insights"></textarea>\n              <input id="popup-id" type="hidden" value="${e}">\n              <button id="submit-comment">Comment</button>\n            </form>\n        </div>\n    </div>\n    </article>`,document.body.appendChild(o),f(t)})(n,e,t),g.showCommentCounter(t)}))},getComments:async(n,e)=>{fetch(`https://us-central1-involvement-api.cloudfunctions.net/capstoneApi/apps/CTh1EvksCU2CGkEmnLer/comments?item_id=${e}`,{headers:{"Content-type":"application/json; charset=UTF-8"}}).then((n=>n.json())).then((t=>{g.getShowPopup(n,e,t)}))},refreshComments:async n=>{fetch(`https://us-central1-involvement-api.cloudfunctions.net/capstoneApi/apps/CTh1EvksCU2CGkEmnLer/comments?item_id=${n}`,{headers:{"Content-type":"application/json; charset=UTF-8"}}).then((n=>n.json())).then((n=>{f(n),g.showCommentCounter(n)}))},addComment:async(n,e,t)=>{await fetch("https://us-central1-involvement-api.cloudfunctions.net/capstoneApi/apps/CTh1EvksCU2CGkEmnLer/comments",{method:"POST",headers:{"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify({item_id:`${n}`,username:`${e}`,comment:`${t}`})})},showCommentCounter:n=>{const e=document.querySelector(".comment-count");return e.innerHTML="",e.innerHTML=n.length,n.length}},x=g;document.body.innerHTML='<nav>\n   <ul class="nav-bar">\n    <li class="logo"><i class="fas fa-video"></i></li>\n    <li class="items">Shows (<p id="shows-counter"></p>)</li>  \n   </ul> \n  </nav>\n  \n  <div class="container">\n  </div>\n  <footer>\n    <p class="text-footer">Microverse - All rights Reserved 2021</p>\n  </footer>',x.init(),document.addEventListener("click",(n=>{if("fas fa-heart"===n.target.className&&x.saveLike(n.target.id),"comment-btn"===n.target.className){const e=n.target.parentElement.parentElement.children[1].children[0].textContent.split(": ").pop(),t=n.target.parentElement.firstElementChild.value;x.getComments(e,t)}if("submit-comment"===n.target.id){n.preventDefault();const e=document.querySelector("#popup-id").value,t=document.querySelector("#name"),o=document.querySelector("#input-comment");x.addComment(e,t.value,o.value),x.refreshComments(e),t.value="",o.value=""}"close-icon"===n.target.className&&document.querySelector("#popup").remove()}))})()})();